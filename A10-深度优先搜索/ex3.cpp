// ��������� n �ǲ����� 50 ����������d[i][0]��d[i][1] ���ǲ����� 10000 �������������������������;
// ��δ������;�����һ���㼯�����Ȩ�غͣ�����Ȩ�صļ��㷽ʽ����������� x ����֮���ټ��� y ����֮��ľ���ֵ�����ڵ�������ɺϲ�Ϊһ���㡣����������ͨ�� DFS �����������п��ܵĺϲ���ʽ�������

#include <algorithm>
#include <iostream>
using namespace std;

int n; // n����
int d[50][2]; // n����Ķ�ά����
int ans; // 

void dfs(int n, int sum)
{
    if (n == 1) // �ݹ���ֹ������ֻʣһ����
    {
        ans = max(sum, ans);
        return;
    }
    for (int i = 1; i < n; ++i) // �ӵڶ����㿪ʼ����
    {
        int a = d[i - 1][0], b = d[i - 1][1]; // �����һ���������
        int x = d[i][0], y = d[i][1]; // ����ڶ����������
        d[i - 1][0] = a + x; // ��������ϲ�Ϊһ����
        d[i - 1][1] = b + y;
        for (int j = i; j < n - 1; ++j) // ������ĵ���ǰ�ƶ�
            d[j][0] = d[j + 1][0], d[j][1] = d[j + 1][1];
        int s = a + x + abs(b - y); // ĳ��Ȩ�صļ��� ������
        dfs(n - 1, sum + s); // �ݹ����
        for (int j = n - 1; j > i; --j) // ���ݣ��ָ�����ĵ��״̬
            d[j][0] = d[j - 1][0], d[j][1] = d[j - 1][1];
        d[i - 1][0] = a, d[i - 1][1] = b; // �ָ�ԭ���ĵ�һ�����״̬
        d[i][0] = x, d[i][1] = y; // �ָ�ԭ���ĵڶ������״̬
    }
}

int main()
{
    cin >> n;
    for (int i = 0; i < n; ++i)
        cin >> d[i][0]; // ����n�����x����
    for (int i = 0; i < n; ++i)
        cin >> d[i][1]; // ����n�����y����
    ans = 0;
    dfs(n, 0); // ��ʼ���ã�n���㣬�ܺ�Ϊ0
    cout << ans << endl;
    return 0;
}

/*
����״̬������
���� n=3,
d = [ [1,2], [3,4], [5,6] ]

��ʼ����
dfs(3, 0) ��ʣ3���㣬�ܺ�Ϊ0
for(i=1, i=2)
    i=1
    a = 1, b = 2, x = 3, y = 4
    �ϲ�d[0]��d[1]��d[0][0] = 1 + 3 = 4, d[0][1] = 2 + 4 = 6
    ����ĵ�������ǰ�ƣ�d[1][0] = 5, d[1][1] = 6
    d = [ [4,6], [5,6], [5,6] ]
    s = a + x + abs(b - y) = 1 + 3 + abs(2 - 4) = 6
    dfs(2, 0+6) ��ʣ2���㣬�ܺ�Ϊ6
    for(i=1)
        i=1
        a = 4, b = 6, x = 5, y = 6
        �ϲ�d[0]��d[1]��d[0][0] = 4 + 5 = 9, d[0][1] = 6 + 6 = 12
        ����û��Ҫǰ�Ƶĵ�
        d = [ [9,12], [5,6], [5,6] ]
        s = a + x + abs(b - y) = 4 + 5 + abs(6 - 6) = 9
        dfs(1, 6+9) ��ʣ1���㣬�ܺ�Ϊ15
            �ݹ���ֹ��ans = max(15, 0) = 15
        ���ݣ�û��Ҫ�ƶ��ĵ�
        �ָ�ԭ���ĵ�һ�����״̬��d[0][0] = a, d[0][1] = b;
        �ָ�ԭ���ĵڶ������״̬�� d[1][0] = x, d[1][1] = y;
        d = [ [4,6], [5,6], [5,6] ]
    ���ݣ��ָ�����ĵ��״̬��d[2][0] = d[1][0] = 5, d[2][1] = d[1][1] = 6
    �ָ�ԭ���ĵ�һ�����״̬��d[0][0] = a, d[0][1] = b;
    �ָ�ԭ���ĵڶ������״̬�� d[1][0] = x, d[1][1] = y;
    d = [ [1, 2], [3, 4], [5, 6] ]
    i=2
    a = d[1][0] = 3, b = d[1][1] = 4, x = d[2][0] = 5, y = d[2][1] = 6
    �ϲ�d[1]��d[2]��d[1][0] = 3 + 5 = 8, d[1][1] = 4 + 6 = 10
    ����û��Ҫǰ�Ƶĵ�
    d = [ [1, 2], [8, 10], [5, 6] ]
    s = a + x + abs(b - y) = 3 + 5 + abs(4 - 6) = 10
    dfs(2, 0+10) ��ʣ2���㣬�ܺ�Ϊ8
    for(i=1)
        i=1
        a = 1, b = 2, x = 8, y = 10
        �ϲ�d[0]��d[1]��d[0][0] = 1 + 8 = 9, d[0][1] = 2 + 10 = 12
        ����û��Ҫǰ�Ƶĵ�
        d = [ [9, 12], [5, 6], [5, 6] ]
        s = a + x + abs(b - y) = 1 + 8 + abs(2 - 10) = 17
        dfs(1, 10+17) ��ʣ1���㣬�ܺ�Ϊ27
            �ݹ���ֹ��ans = max(27, 15) = 27
        ���ݣ�û��Ҫ�ƶ��ĵ�
        �ָ�ԭ���ĵ�һ�����״̬��d[0][0] = a = 1, d[0][1] = b = 2;
        �ָ�ԭ���ĵڶ������״̬��d[1][0] = x = 8, d[1][1] = y = 10;
        d = [ [1, 2], [8, 10], [5, 6] ]
    ���ݣ�����û��Ҫ�ƶ��ĵ�
    �ָ�ԭ���ĵ�һ�����״̬��d[1][0] = a = 3, d[1][1] = b = 4;
    �ָ�ԭ���ĵڶ������״̬��d[2][0] = x = 5, d[2][1] = y = 6;
    d = [ [1, 2], [3, 4], [5, 6] ]

���յõ� ans=27

*/

